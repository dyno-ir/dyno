MODULE_DEF %Counter:module("Counter"), %0:block {
  INPUT_REGISTER_DEF %clk:register(1)
  INPUT_REGISTER_DEF %rst:register(1)
  INPUT_REGISTER_DEF %en:register(1)
  OUTPUT_REGISTER_DEF %cnt:register(8)
  TRIGGER_DEF %1:trigger(pos), %clk
  COMB_PROCESS_DEF %2:process, %3:block {
    LOAD %4:wire(8), %cnt
    LOAD %5:wire(1), %rst
    LOAD %6:wire(1), %en
    ADD %7:wire(8), %4, #8'd1
    MUX %8:wire(8), %6, %7, %4
    MUX %9:wire(8), %5, #8'd0, %8
    STORE_DEFER %9, %cnt, %1
  }
}
